<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learn js</title>
</head>
<body>

  <div class="tresc">lorem ipsum szukaj</div>
  <input type="text" class="wyszukiwarka" value="">
  <input type="button" id="searchBtn" value="szukaj">
  <div id="info"></div>

  <script>
  
  var searchBtn = document.getElementById('searchBtn');

  var searchText = function() {

    var textToSearch = document.getElementsByClassName('wyszukiwarka')[0].value;
    var text = document.getElementsByClassName('tresc')[0].innerHTML;
    var info = document.getElementById('info');

    var tmpInfo = '';

    // pierwszym elementem jest 0
    // więc jeśli długość textToSearch.length wynosi 10
    // to jeśli i będzie 10, to textToSearch[10] będzie 'undefined'
    // dlatego powinno być i <, zamiast i <=
    for (var i = 0; i < textToSearch.length; i++) {

      console.log(
        'przebieg pętli:', i,
        'znaki do porównania:', text[i], textToSearch[i],
        'porównanie', text[i] === textToSearch[i],
      )

      if (text[i] === textToSearch[i]) {
        console.log(i, 'OK')
        // znaki nie powinny być wstawiane na bieżąco do elementu poprzez
        // element.innerHTML +=
        // szukana fraza może być niezgodna w 100% ze znalezioną
        tmpInfo += textToSearch[i]
      }
    };

    if (tmpInfo === textToSearch) {
      // szukany tekst zgadza się ze znalezionym
      info.innerHTML = tmpInfo;
    } else {
      // znaleziono pasujące znaki ale brak 100% dopasowania
      info.innerHTML = "Brak dopasowań. Znaleziono: " + tmpInfo;
    }

  };

  searchBtn.addEventListener('click', searchText);
  
  </script>
</body>
</html>
